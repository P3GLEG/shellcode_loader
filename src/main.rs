#![no_std]
#![no_main]
#![feature(lang_items)]

#[panic_handler]
fn panic(_info: &core::panic::PanicInfo) -> ! { loop {} }

#[lang = "eh_personality"]
extern "C" fn eh_personality() {}

#[link(name = "c")]
extern "C" {
    fn write(fd: i32, buf: *const i8, count: usize) -> isize;
}

#[no_mangle]
pub extern "C" fn main() -> isize {
    unsafe { write(1, b"Hello, World!\n" as *const u8 as *const i8, 14) };
    0
}

//use std::mem;

/*
static PAYLOAD: [u8; 51] = [0xeb,0x1e,0x5e,0xb8,0x04,0x00,0x00,0x02,0xbf,0x01,0x00,0x00,0x00,0xba,0x0e,0x00,0x00,0x00,0x0f,0x05,0xb8,0x01,0x00,0x00,0x02,0xbf,0x00,0x00,0x00,0x00,0x0f,0x05,0xe8,0xdd,0xff,0xff,0xff,0x48,0x65,0x6c,0x6c,0x6f,0x20,0x57,0x6f,0x72,0x6c,0x64,0x21,0x0d,0x0a];
fn main() {
    unsafe {
        let exec_data: extern "C" fn () -> ! =  mem::transmute(&PAYLOAD as *const _ as *const ());
        exec_data();
    }
}


*/
